"use strict";var app=angular.module("myapp",[]);app.service("angularTable",function(){var e=function(e,t,a){!function(e,t){e.sort={column:"Id",order:"asc"},e.gap=5,e.filteredItems=[],e.itemsPerPage=t,e.pagedItems=[],e.currentPage=0,e.filterText="",e.totalItems=0,e.totalPages=0,e.prevPage=function(){e.currentPage>0&&e.currentPage--},e.nextPage=function(t){e.currentPage<t&&e.currentPage++},e.setPage=function(t){e.currentPage=t},e.range=function(t,a,g){var n=[];t<g&&(g=t,a=t-e.gap);for(var r=a;r<g;r++)r>=0&&n.push(r);return n},e.selectedCls=function(t){return t==e.sort.column?"glyphicon glyphicon-sort-by-attributes"+("asc"===e.sort.order?"-alt":""):"glyphicon glyphicon-sort"},e.search=function(t){_.isEmpty(t)&&(e.filterText=""),e.load()}}(e,a),e.load=function(){if(_.isEmpty(e.filterText))e.filteredItems=t;else{var a=e.filterText.toLowerCase();e.currentPage=0,e.filteredItems=t.filter(function(e){return-1!=JSON.stringify(e).toLowerCase().indexOf(a)})}e.groupToPages()},e.groupToPages=function(){e.pagedItems=[];for(var t=0;t<e.filteredItems.length;t++)t%e.itemsPerPage==0?e.pagedItems[Math.floor(t/e.itemsPerPage)]=[e.filteredItems[t]]:e.pagedItems[Math.floor(t/e.itemsPerPage)].push(e.filteredItems[t])},e.sortBy=function(a){t=_.sortBy(t,a),"desc"===e.sort.order&&(t=t.reverse()),e.sort.order="asc"===e.sort.order?"desc":"asc",e.sort.column=a,e.load()}};return{createClient:function(t,a,g){return e(t,a,g),t}}}),app.directive("tablePaging",function(){return{scope:{tablePaging:"="},template:'<div class="row" ng-show="tablePaging.filteredItems.length"><div class="col-xs-4"><div class="pagination"><strong>Total:</strong> {{tablePaging.filteredItems.length}} items</div></div><div class="col-xs-8"><div class="pagination pull-right"><ul class="pagination"><li ng-class="{disabled: tablePaging.currentPage == 0}"><a href ng-click="tablePaging.setPage(0)">First</a></li><li ng-class="{disabled: tablePaging.currentPage == 0}"><a href ng-click="tablePaging.prevPage()">« Prev</a></li><li ng-repeat="n in tablePaging.range(tablePaging.pagedItems.length, tablePaging.currentPage, tablePaging.currentPage + tablePaging.gap)"ng-class="{active: n == tablePaging.currentPage}" ng-click="tablePaging.setPage(n)"><a href ng-bind="n + 1">1</a></li><li ng-class="{disabled: tablePaging.currentPage == tablePaging.pagedItems.length - 1}"><a href ng-click="tablePaging.nextPage(tablePaging.pagedItems.length - 1)">Next »</a></li><li ng-class="{disabled: tablePaging.currentPage == tablePaging.pagedItems.length - 1}"><a href ng-click="tablePaging.setPage(tablePaging.pagedItems.length - 1)">Last</a></li></ul></div></div></div>'}});